---
import 'swiper/css';
import Slide from '../components/slide.astro';
import avatarPic from "../images/2a-Monitoramento-com-cameras.png";
import Image from 'astro/components/Image.astro';

const products = [
        {   
            id: 1,
            title: "Bomboniere",
            description: ""
           
        },
        {   
            id: 2,
            title: "Congelados",
            description: ""
            
        },
        {   
            id: 3,
            title: "Sorvetes",
            description: ""
            
        },
       
]

function getPrevSlideId(id: number): string{
    const prevId = id - 1 !== 0 ? id - 1 : products[products.length - 1]['id'];
    return `#slide-${prevId}`;
}

function getNextSlideId(id: number): string{
    const nextId = id + 1 < products.length + 1? id + 1 : products[0]['id'];
    return `#slide-${nextId}`;
}

---
 
    <div class="swiper-review w-fit">
       
        <div class="swiper-wrapper">
            
            <div class="swiper-slide">
                <div class="flex flex-row  justify-start p-4">
                    <Image src={avatarPic} alt="asdasdas" class="rounded-full relative z-1" width={100} />
                        <span class="flex flex-col pl-4 justify-center self-center text-xl">
                            <h3 class="font-extrabold">'test'</h3>
                            <p class="font-semibold">test</p>
                        </span>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="flex flex-row  justify-start p-4">
                    <Image src={avatarPic} alt="asdasdas" class="rounded-full relative z-1" width={100} />
                        <span class="flex flex-col pl-4 justify-center self-center text-xl">
                            <h3 class="font-extrabold">'test'</h3>
                            <p class="font-semibold">test</p>
                        </span>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="flex flex-row  justify-start p-4">
                    <Image src={avatarPic} alt="asdasdas" class="rounded-full relative z-1" width={100} />
                        <span class="flex flex-col pl-4 justify-center self-center text-xl">
                            <h3 class="font-extrabold">'test'</h3>
                            <p class="font-semibold">test</p>
                        </span>
                </div>
            </div>
        </div>  
        
        <div class="swiper-button-prev">
            next
        </div>
        <div class="swiper-button-next">
            prev
        </div>
      
        
        <div class="swiper-scrollbar"></div>
    </div>
</div> -->

<div class="w-full flex justify-center shadow-xl rounded-2xl p-4">
    <div class="carousel w-full max-w-[750px] min-h-[300px]">
        {
            products.map((slide) => (
                <div id={`slide-${slide.id}`} class="carousel-item relative w-full">
                    
                    <div class="flex flex-col">
                        <div class="card-body items-center text-justify text-xl pb-0">
                            <p class="p-4">
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias cum eveniet perferendis distinctio reiciendis animi dignissimos. Minima maiores nemo perferendis? Quidem iste repellendus culpa excepturi, laboriosam dicta reiciendis consectetur veniam?
                            </p>
                        </div>
                                    
                        <div class="flex flex-row items-center w-full">
                            <div class="flex flex-row w-[50%] justify-start p-4">
                                <Image src={avatarPic} alt="asdasdas" class="rounded-full relative z-1" width={100} />
                                <span class="flex flex-col pl-4 justify-center self-center text-xl">
                                    <h3 class="font-extrabold">{slide.title}</h3>
                                    <p class="font-semibold">{slide.description}</p>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="absolute flex justify-between transform -translate-y-1/2 left-5 right-5 bottom-0">
                        <div class="flex justify-end align-end gap-2 w-full bottom-0">
                            <a href={getPrevSlideId(slide.id)} class="btn btn-circle rounded-full bg-accent text-white font-extrabold text-xl px-3 py-1">❮</a> 
                            <a href={getNextSlideId(slide.id)} class="btn btn-circle rounded-full bg-accent text-white font-extrabold text-xl px-3 py-1">❯</a>
                        </div>
                    </div>

                </div>
            ))
        }
    </div>
</div>
