---
import 'swiper/css';
import { Image } from 'astro:assets';

import adega from '../images/produtos-adega.png';
import bomboniere from '../images/produtos-bomboniere.png';
import alcoolicos from '../images/produtos-alcoolicos.png';
import churrasco from '../images/produtos-churrasco.png';
import congelados from '../images/produtos-congelador.png';
import higiene from '../images/produtos-higiene.png';
import naoAlcoolicos from '../images/produtos-nao-alcoolicos.png';
import refrigerados from '../images/produtos-refrigerados.png';
import saudavel from '../images/produtos-saudavel.png';
import snacks from '../images/produtos-snacks.png';
import sorvetes from '../images/produtos-sorvetes.png';

const products = [
        {
            "title": "Bomboniere",
            "image": bomboniere,
            "description": ""
        },
        {
            "title": "Congelados",
            "imageUrl": congelados,
            "description": ""
        },
        {
            "title": "Sorvetes",
            "imageUrl": sorvetes,
            "description": ""
        },
        {
            "title": "Saudável",
            "imageUrl": saudavel,
            "description": ""
        },
        {
            "title": "Higiene",
            "imageUrl": higiene,
            "description": ""
        },
        {
            "title": "Alcoólicos",
            "imageUrl": alcoolicos,
            "description": ""
        },
        {
            "title": "Adega",
            "imageUrl": adega,
            "description": ""
        },
        {
            "title": "Não alcoólicos",
            "imageUrl": naoAlcoolicos,
            "description": ""
        },
        {
            "title": "Snacks",
            "imageUrl": snacks,
            "description": ""
        },
        {
            "title": "Refrigerados",
            "imageUrl": refrigerados,
            "description": ""
        },
        {
            "title": "Churrasco",
            "imageUrl": churrasco,
            "description": ""
        }
]
---
 
<div class="swiper" role="region" aria-label="carousel">
    <div class="swiper-wrapper" role="group">
        {
            products.map(({title, image, description}) => (
                <div class="swiper-slide my-8" role="group" aria-roledescription="Slide">
                    <div class="card w-fit shadow-xl rounded-3xl p-4 mx-4 my-8">
                        <Image src={image}
                            class="self-center"
                            height={200} 
                            width={200} 
                            format="png" 
                            loading="lazy"
                            aria-label={title} 
                            alt={description}/>
                        <h3 class="text-center pt-4 font-extrabold text-lg">{title}</h3>
                    </div>
                </div>
            ))
        }
    </div>
</div>

<style>
    .swiper-slide{
        margin: auto;
        display: flex;
        justify-content: center;
    }
</style>

<script>
    import Swiper from 'swiper';
    import { Autoplay } from 'swiper/modules';

    let clientWidth = document.documentElement.clientWidth;
    let slidesPerView = 4;

    if(clientWidth < 1000){
        slidesPerView = 2;
    }

    if(clientWidth < 600){
        slidesPerView = 1;
    }

    Swiper.use([Autoplay])
    let swiper = new Swiper('.swiper', {
        speed: 3000,
        autoplay: {
            delay: 200
        },
        loop: true,
        slidesPerView: slidesPerView,
        centeredSlides: true,
        centeredSlidesBounds: true
    });

</script>